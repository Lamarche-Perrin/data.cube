<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title></title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="unidimensional-exploration.html">
<link rel="next" href="outlier-analysis.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#a-tutorial-for-the-data.cube-library">A Tutorial for the <code>data.cube</code> Library</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#authors-and-license"><i class="fa fa-check"></i>Authors and License</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#downloading-the-dataset"><i class="fa fa-check"></i><b>1.1</b> Downloading the dataset</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#loading-the-library"><i class="fa fa-check"></i><b>1.2</b> Loading the library</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#building-the-cube-with-as.data.cube"><i class="fa fa-check"></i><b>1.3</b> Building the cube with <code>as.data.cube</code></a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#whats-in-the-cube-with-summary"><i class="fa fa-check"></i><b>1.4</b> What’s in the cube with <code>summary</code></a></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#back-to-frame-with-as.data.frame"><i class="fa fa-check"></i><b>1.5</b> Back to frame with <code>as.data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="unidimensional-exploration.html"><a href="unidimensional-exploration.html"><i class="fa fa-check"></i><b>2</b> Unidimensional Exploration</a><ul>
<li class="chapter" data-level="2.1" data-path="unidimensional-exploration.html"><a href="unidimensional-exploration.html#selecting-one-dimension-with-select.dim"><i class="fa fa-check"></i><b>2.1</b> Selecting one dimension with <code>select.dim</code></a></li>
<li class="chapter" data-level="2.2" data-path="unidimensional-exploration.html"><a href="unidimensional-exploration.html#arranging-elements-with-arrange.elm"><i class="fa fa-check"></i><b>2.2</b> Arranging elements with <code>arrange.elm</code></a></li>
<li class="chapter" data-level="2.3" data-path="unidimensional-exploration.html"><a href="unidimensional-exploration.html#plotting-variables-with-plot.var"><i class="fa fa-check"></i><b>2.3</b> Plotting variables with <code>plot.var</code></a></li>
<li class="chapter" data-level="2.4" data-path="unidimensional-exploration.html"><a href="unidimensional-exploration.html#filtering-elements-with-filter.elm-and-top_n.elm"><i class="fa fa-check"></i><b>2.4</b> Filtering elements with <code>filter.elm</code> and <code>top_n.elm</code></a></li>
<li class="chapter" data-level="2.5" data-path="unidimensional-exploration.html"><a href="unidimensional-exploration.html#other-examples-of-use"><i class="fa fa-check"></i><b>2.5</b> Other examples of use</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="multidimensional-exploration.html"><a href="multidimensional-exploration.html"><i class="fa fa-check"></i><b>3</b> Multidimensional Exploration</a><ul>
<li class="chapter" data-level="3.1" data-path="multidimensional-exploration.html"><a href="multidimensional-exploration.html#selecting-two-dimensions-with-select.dim"><i class="fa fa-check"></i><b>3.1</b> Selecting two dimensions with <code>select.dim</code></a></li>
<li class="chapter" data-level="3.2" data-path="multidimensional-exploration.html"><a href="multidimensional-exploration.html#plotting-bidimensional-variables-with-argument-sep.dim.names-of-plot.var"><i class="fa fa-check"></i><b>3.2</b> Plotting bidimensional variables with argument <code>sep.dim.names</code> of <code>plot.var</code></a></li>
<li class="chapter" data-level="3.3" data-path="multidimensional-exploration.html"><a href="multidimensional-exploration.html#plotting-multidimensional-variables"><i class="fa fa-check"></i><b>3.3</b> Plotting multidimensional variables</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="outlier-analysis.html"><a href="outlier-analysis.html"><i class="fa fa-check"></i><b>4</b> Outlier Analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="outlier-analysis.html"><a href="outlier-analysis.html#first-example-bidimensional-outliers"><i class="fa fa-check"></i><b>4.1</b> First example: Bidimensional outliers</a><ul>
<li class="chapter" data-level="4.1.1" data-path="outlier-analysis.html"><a href="outlier-analysis.html#taking-into-account-the-expected-number-of-articles-for-each-country"><i class="fa fa-check"></i><b>4.1.1</b> Taking into account the expected number of articles for each country</a></li>
<li class="chapter" data-level="4.1.2" data-path="outlier-analysis.html"><a href="outlier-analysis.html#also-taking-into-account-the-expected-number-of-articles-for-each-week"><i class="fa fa-check"></i><b>4.1.2</b> Also taking into account the expected number of articles for each week</a></li>
<li class="chapter" data-level="4.1.3" data-path="outlier-analysis.html"><a href="outlier-analysis.html#significativity-of-deviations"><i class="fa fa-check"></i><b>4.1.3</b> Significativity of deviations</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="outlier-analysis.html"><a href="outlier-analysis.html#plotting-outliers"><i class="fa fa-check"></i><b>4.2</b> Plotting Outliers</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="multidimensional-exploration" class="section level1">
<h1><span class="header-section-number">3</span> Multidimensional Exploration</h1>
<p>In this second section, we simultaneously deal with several dimensions. Multidimensional plotting of variables is then possible.</p>
<div id="selecting-two-dimensions-with-select.dim" class="section level2">
<h2><span class="header-section-number">3.1</span> Selecting two dimensions with <code>select.dim</code></h2>
<p>When selecting two dimensions (or more) with function <code>select.dim</code>, one ends up with a multidimensional representation of the corresponding variables. For example, in the code below, one selects dimensions <code>week</code> and <code>country</code> (in other words, dimension <code>media</code> is aggregated). Each observation hence gives the number of <code>articles</code> published during a given <code>week</code> and talking about a given <code>country</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">geomedia <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">select.dim</span> (week, country) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">arrange.elm</span> (country, name) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">arrange.elm</span> (week, name) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">as.data.frame</span> ()</code></pre></div>
<pre><code>## # A tibble: 11,051 x 3
##    week       country articles
##    &lt;date&gt;     &lt;chr&gt;      &lt;dbl&gt;
##  1 2013-12-30 AFG        22   
##  2 2013-12-30 ARG         6   
##  3 2013-12-30 AUS        29.5 
##  4 2013-12-30 BEN         2   
##  5 2013-12-30 BGD        30   
##  6 2013-12-30 BGR         7.67
##  7 2013-12-30 BHS         2   
##  8 2013-12-30 BLR         0.5 
##  9 2013-12-30 BOL         2.5 
## 10 2013-12-30 BRA        10.5 
## # … with 11,041 more rows</code></pre>
</div>
<div id="plotting-bidimensional-variables-with-argument-sep.dim.names-of-plot.var" class="section level2">
<h2><span class="header-section-number">3.2</span> Plotting bidimensional variables with argument <code>sep.dim.names</code> of <code>plot.var</code></h2>
<p>In order to plot variable <code>articles</code> according to the two selected dimensions, one can use argument <code>sep.dim.names</code> of function <code>plot.var</code> to indicate which one of the two dimensions should be used to separate the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">geomedia <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">select.dim</span> (week, country) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">arrange.elm</span> (week, name) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">filter.elm</span> (country, name <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span> (<span class="st">&quot;USA&quot;</span>, <span class="st">&quot;FRA&quot;</span>, <span class="st">&quot;DEU&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">plot.var</span> (articles, <span class="dt">sep.dim.names =</span> country, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">theme</span> (<span class="dt">axis.text.x =</span> <span class="kw">element_text</span> (<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">size =</span> <span class="dv">6</span>))</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>In this context, using a point-plot (instead of a line-plot) can be useful to separate a dimension with many elements. (Note that, below, we also use <code>filter.elm</code> on <code>week</code> to only plot data for year 2014.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">geomedia <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">select.dim</span> (week, country) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">filter.elm</span> (week, <span class="kw">format</span> (name, <span class="st">&quot;%Y&quot;</span>) <span class="op">==</span><span class="st"> &quot;2014&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">arrange.elm</span> (week, name) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">top_n.elm</span> (country, articles, <span class="dv">20</span>) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">arrange.elm</span> (country, <span class="kw">desc</span> (articles)) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">plot.var</span> (articles, <span class="dt">sep.dim.names =</span> country, <span class="dt">type =</span> <span class="st">&quot;point&quot;</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">theme</span> (<span class="dt">axis.text.x =</span> <span class="kw">element_text</span> (<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">size =</span> <span class="dv">6</span>))</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
</div>
<div id="plotting-multidimensional-variables" class="section level2">
<h2><span class="header-section-number">3.3</span> Plotting multidimensional variables</h2>
<p>It is also possible to separate the data according to several dimensions (with not so many elements) at the same time in order to plot multidimensional variables. For example, the plot below gives the temporal evolution of <code>articles</code> for 8 countries and 2 newspapers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">geomedia <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">filter.elm</span> (week, <span class="kw">format</span> (name, <span class="st">&quot;%Y&quot;</span>) <span class="op">==</span><span class="st"> &quot;2014&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">arrange.elm</span> (week, name) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">top_n.elm</span> (country, articles, <span class="dv">8</span>) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">arrange.elm</span> (country, <span class="kw">desc</span> (articles)) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">filter.elm</span> (media, name <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span> (<span class="st">&quot;fr_FRA_lmonde_int&quot;</span>, <span class="st">&quot;en_GBR_guardi_int&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">plot.var</span> (articles, <span class="dt">sep.dim.names =</span> <span class="kw">list</span> (country, media), <span class="dt">type =</span> <span class="st">&quot;point&quot;</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">theme</span> (<span class="dt">axis.text.x =</span> <span class="kw">element_text</span> (<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">size =</span> <span class="dv">6</span>))</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="unidimensional-exploration.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="outlier-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
